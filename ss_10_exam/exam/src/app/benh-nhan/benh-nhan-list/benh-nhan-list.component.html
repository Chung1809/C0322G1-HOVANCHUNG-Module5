<h2 style="text-align: center">Danh sách bệnh nhân</h2>

<div class="row ">
  <div class="col-md-2">
  </div>
  <div class="col-md-2">
    <a [routerLink]="['/patient/create']"><button class="btn btn-primary">Thêm mới</button></a>
  </div>
  <div class="col-md-8"></div>



<div class="container">
  <div class="row">
    <table class="table" >
      <thead>
      <tr>
        <th scope="col">STT</th>
        <th scope="col">Mã bệnh án</th>
        <th scope="col">Mã bệnh nhân</th>
        <th scope="col">Tên bệnh nhân</th>
        <th scope="col">Ngày nhập viện</th>
        <th scope="col">Ngày ra viện</th>
        <th scope="col">Lí do nhập viện</th>
        <th scope="col">Phương pháp điều trị</th>
        <th scope="col">Bác sĩ điều trị</th>
        <th scope="col">Sửa</th>
        <th scope="col">Xoá</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let temp of patientList|paginate:{itemsPerPage:5,currentPage:p}">
        <td>{{temp.id}}</td>
        <td>{{temp.medicalCode.name}}</td>
        <td>{{temp.patientCode}}</td>
        <td>{{temp.name}}</td>
        <td>{{temp.startDay|date:"dd/MM/yyyy"}}</td>
        <td>{{temp.endDay|date:"dd/MM/yyyy"}}</td>
        <td>{{temp.reason}}</td>
        <td>{{temp.procedure}}</td>
        <td>{{temp.doctor}}</td>
        <td><button class="btn btn-success btn-sm"  [routerLink]="['/patient/edit',temp.id]">Sửa</button></td>
        <td><button (click)="deletePatient(temp)"  class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#exampleModal">
          Xoá
        </button></td>
      </tr>


      </tbody>
    </table>
    <pagination-controls style="text-align: center" (pageChange)="p = $event"></pagination-controls>
  </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <h4>Bạn có  muốn xoá thông tin bệnh án : {{patientName}} hay không</h4>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="delete(patientId)" data-bs-dismiss="modal" >Xoá</button>
      </div>
    </div>
  </div>
</div>

